(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinSaveButtonCommon","FacebookCommon","FacebookDialogCommon","ScriptCommon"],{"0BOE":function(e,t,n){n.d(t,"a",(function(){return o}));const a={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},i=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=a[e.charAt(n)]||e.charAt(n);return t},o=(e,t,n="name")=>{const a=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),a=e.split(" ");let o=0;for(let r=0;r<a.length;r+=1){(i(a[r]).includes(n[o])||a[r].includes(n[o]))&&(o+=1)}return o===n.length})(e[n].toLowerCase(),a))}},"5FNA":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("qtKf"),i=n("Pqnw"),o=n("Wer7");const r=["alphabetical","last_pinned_to","oldest","newest","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,mixPublicSecret:t,username:n})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",username:n,page_size:25,group_by:t?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},c=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),l=e=>r.reduce((t,n)=>{const r=[Object(i.a)("profileBoards",Object(a.c)(e,n))];return[!0,!1].forEach(t=>{r.push(Object(o.f)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t})))}),t.concat(r)},[])},"6tKR":function(e,t,n){n.r(t);var a=n("IUnB"),i=n.n(a);const o={ready:function(e,t){i.a.ready(e,t)},load:function(e,t,n){o.ready(e,()=>{0===t.lastIndexOf("//",0)&&(t=window.location.protocol+t),i()(t,n)})},done:function(e){i.a.done(e)}};t.default=o},"8cMa":function(e,t,n){var a=n("q1tI"),i=n("Ye/N"),o=n("n6mq");t.a=function({type:e}){const t={group:{accessibilityLabel:i.a._("group board","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:i.a._("protected board","Board picker protected board icon"),icon:"lock"},secret:{accessibilityLabel:i.a._("secret board","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon"),icon:"arrow-down"}}[e];return a.createElement(o.c,{marginLeft:1},a.createElement(o.c,{marginStart:2},"sections"===e||"sectionsInline"===e?a.createElement(o.n,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):a.createElement(o.n,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})))}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return r}));const a={row:0,section:0},i={row:-1,section:-1},o=()=>void 0;class r{constructor(e){this.index=Object.assign({},a),this.sections=e,this.updateCallback=o,this.selectItem=o}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===i.row&&t===i.section?this.index=Object.assign({},a):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===i.row&&t===i.section)this.index=Object.assign({},a);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},i),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},AHhP:function(e,t){const n={},a=function(e,t){let n=!1;return function(...a){n||(n=!0,e.apply(this,a),t&&t())}},i=function(e,t){e.__listeners=t},o=function(e,t){return!e.__listeners&&t&&i(e,[]),e.__listeners},r=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,a){let i,o,r=[];if("string"==typeof t)for(i=t.split(" "),o=0;o<i.length;o+=1)r.push({name:i[o],callback:n,originalCallback:n,context:a});else"object"==typeof t&&t&&Object.keys(t).forEach(i=>{r=r.concat(e(i,t[i],a||n))});return r},c=function(e,t,n,a){const i=s(e,t,n);for(let o=0;o<i.length;o+=1)a(i[o])},l=function(e,t){const n=r(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const a=o(e,!0);for(let i=0;i<n.length;i+=1){const e=n[i];if(!e.callback)return;l(t,e),a.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return c(e,t,n,e=>{e.callback&&l(this,e)}),this},n.off=function(e,t,n){const a=r(this,!1);if(void 0===a)return this;const i=Object.keys(a);let o=s(e,t,n);0===o.length&&(o=[{name:null,callback:t,context:n}]);for(let r=0;r<o.length;r+=1){const e=o[r];let t;t=e.name?[e.name]:i;for(let n=0;n<t.length;n+=1){const i=t[n],o=a[i];if(void 0!==o){const t=[];for(let n=0;n<o.length;n+=1){const a=o[n];e.callback&&a.originalCallback!==e.callback&&a.callback!==e.callback?t.push(a):e.context&&a.context!==e.context&&t.push(a)}a[i]=t}}}return this},n.trigger=function(e,...t){const n=r(this,!1);if(void 0===n)return this;let a,i,o;const s=e.split(" ");for(a=0;a<s.length;a+=1){let e=[];const r=n.all,c=s[a],l=n[c];if(void 0!==l)for(i=0;i<l.length;i+=1)if("function"==typeof(o=l[i]).callback)e.push({fn:o.callback,context:o.context||this,args:t});else if(o.callback)throw new Error("Callbacks must be functions");if(void 0!==r)for(i=0;i<r.length;i+=1)if("function"==typeof(o=r[i]).callback)e.push({fn:o.callback,context:o.context||this,args:[c].concat(t)});else if(o.callback)throw new Error("Callbacks must be functions");for(i=0;i<e.length;i+=1)(o=e[i]).fn.apply(o.context,o.args);e=[]}return this},n.once=function(e,t,n){return c(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=a(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),l(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const i=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=a(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,i),this},n.stopListening=function(e,t,n){const a=o(this,!1);let r,c,l;if(!a)return this;const d=[],u=void 0===t?void 0:s(t,n,this);for(c=0;c<a.length;c+=1)if((r=a[c]).obj!==e&&e)d.push(r);else if(t){let e=!1;for(l=0;l<u.length&&!1===e;l+=1){const t=u[l];r.event.name===t.name&&r.originalCallback===t.callback&&(e=!0)}e?r.obj.off(r.event.name,r.event.callback,r.event.context):d.push(r)}else r.obj.off(r.event.name,r.event.callback,r.event.context);return i(this,d),this},e.exports=n},Ev07:function(e,t,n){var a=n("m2Wt"),i=n("h4v/"),o=n("1inl"),r=n("UTsl"),s=n("LqyK"),c=n("4dcN"),l=n("Ye/N"),d=n("BlMG"),u=n("mBfy");const h={checkFbTimelinePermission:function(e){r.default.ensureInit((function(t){t.api("/me/permissions",t=>{const n=t.data;let a=!1;if(n){a=!!n.find(e=>"publish_actions"===e.permission&&"granted"===e.status)}a?e.success&&e.success():e.error&&e.error()})}),u.default)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){r.default.ensureInit(n=>{if(!h.fbConnectedAccountMatchesLoggedInAccount(n,t))return o.a.showError(l.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());h.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){h.fbLogin(e)}})},u.default)},fbLogin:function(e){r.default.ensureInit(t=>{t.login(t=>{t.authResponse?h.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:"publish_actions"})},u.default)},shareFb:function(e){const t=e.ga_category||"share_facebook";c.a.trackEvent(t,"click");const n=e.dialog_options||{};n.callback=function(){const t=a.a.fromEventType(1300);e.object_id&&t.setObjectIdStr(e.object_id),i.a.getInstance().addEvent(t)};const o=n.object_type;o&&Object(d.a)("facebook_share_dialog_open_"+o),s.default.open(n)},getLocaleString:function(e){let t=e;switch(t=t.replace(/-/g,"_")){case"de":t="de_DE";break;case"fr":t="fr_FR";break;case"it":t="it_IT";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"tr":t="tr_TR";break;case"en_AU":t="en_US";break;case"es_419":case"es_AR":t="es_LA"}return t}};t.a=h},"G35+":function(e,t,n){var a=n("AHhP"),i=n.n(a),o=n("1inl"),r=n("fZ0m"),s=n("Ye/N"),c=n("kmwA"),l=n("BlMG");const d={scope:"profile email",client_id:c.a.settings.GPLUS_CLIENT_ID,app_package_name:c.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},u=e=>(Object(l.a)("unauth_web.gapi_auth2_load.success"),e()),h=e=>{Object(l.a)(`unauth_web.init_google.sdk.${e}`)};var p=()=>new Promise((e,t)=>{h("start"),window.gapi.auth2?(h("exists"),window.gapi.auth2.init(d).then(()=>u(e))):(h("load"),window.gapi.load("auth2",{callback:()=>{h("load_success"),window.gapi.auth2.init(d).then(()=>u(e))},onerror:()=>{h("load_error"),t()},timeout:15e3,ontimeout:()=>{h("load_timeout"),t()}}))}),m=n("dwea"),f=n("mBfy");function g(){}let b;Object.assign(g.prototype,i.a),Object.assign(g.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(l.d)(`auth_web.social_connect.${e}`),t.rerequest_facebook_email?(()=>n.e("FacebookCommon").then(n.bind(null,"UTsl")))().then(({default:e})=>{e.ensureInit(e=>{e.login(e=>{const n=e.authResponse;let a,i;n&&(a=(a=n.grantedScopes)?a.split(","):[],i=n.userID);const o=a.find(e=>"email"===e),r={id:i};"connected"===e.status&&o?t.success(r):t.error(r),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},f.default)}):"gplus"===e||"google"===e?r.a.get(e=>{p().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):(()=>n.e("FacebookDialogCommon").then(n.bind(null,"LqyK")))().then(({default:n})=>{const a=t.windowOptions||n.getWindowOptions(),i=window.open("/connect/"+e+"/","",a);if(!i)return o.a.showError(s.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const r=m.a.setInterval(()=>{i.closed&&(clearInterval(r),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(r),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(g,{instance:()=>(b||(b=new g),b),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&g.instance().complete(e.data)});t.a=g},IBrh:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n("i8i4"),o=n.n(i),r=n("mEMi"),s=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends a.Component{constructor(e,t){super(e,t),c(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),c(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),c(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),c(this,"handleMouseEnter",e=>({event:t})=>{const{disabled:n,indexManager:a}=this.props;n||a.updateIndex(e)}),c(this,"handleMouseLeave",({event:e})=>{const{disabled:t,indexManager:n}=this.props;t||n.setInactive()}),c(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:i}=this.state,{row:o,section:r}=i||{},{customProps:c={},items:l,renderItem:d}=e,{isDisabled:u=(e=>!1)}=c,h=t===r,p=d||n;return p&&l.map((e,n)=>{const i=u(e),r={section:t,row:n},l=h&&n===o;return a.createElement("div",{"data-test-id":"board-selection",key:n,ref:!i&&l&&this.setSelectedItemRef},i?p({item:e,hovered:l,sectionProps:c}):a.createElement(s.P,{onMouseEnter:this.handleMouseEnter(r),onMouseLeave:this.handleMouseLeave,onTouch:this.handleSelectItem(e),fullWidth:!1,shape:"rounded"},p({item:e,hovered:l,sectionProps:c})))})}),c(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>a.createElement(s.c,{key:n},e&&e(t,n),this.renderItems(t,n)))});const{indexManager:n}=this.props;this.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(this.handleIndexUpdate)}UNSAFE_componentWillReceiveProps(e){const{indexManager:t}=this.props;t!==e.indexManager&&e.indexManager.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(){const{containerRef:e}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&e){const t=o.a.findDOMNode(this.selectedItemRef);if(!(t instanceof HTMLElement))return;const n=t.getBoundingClientRect(),a=n.top,i=n.bottom,r=e.getBoundingClientRect(),s=r.top;i>=r.bottom?t.scrollIntoView(!1):a<=s&&t.scrollIntoView(!0)}}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return a.createElement(r.a,{fetchMore:n},({setRef:n,onScroll:i})=>a.createElement(s.c,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",ref:e=>{this.containerRef=e,n(e)}},this.renderSections()))}}},IUnB:function(e,t){var n="undefined"==typeof window?null:window.document,a=n?n.getElementsByTagName("head")[0]:null,i=/^https?:\/\//,o={},r={},s={},c="",l={},d=!1,u="push",h="onreadystatechangeName";function p(e,t){for(var n=0,a=e.length;n<a;++n)if(!t(e[n]))return d;return!0}function m(e,t){return p(e,(function(e){return!t(e)})),d}function f(e,t,n){e=e[u]?e:[e];var a=t&&"function"==typeof t,d=a?t:n,h=a?e.join(""):t,b=e.length;function _(e){return e.call?e():o[e]}function y(){if(!--b){if(o[h]=1,d)d();for(var e in s)p(e.split("|"),_)&&!m(s[e],_)&&(s[e]=[])}}return setTimeout((function(){m(e,(function(e){return null===e?y():l[e]?(h&&(r[h]=1),2==l[e]&&y()):(l[e]=1,h&&(r[h]=1),void g(!i.test(e)&&c?c+e+".js":e,y))}))}),0),f}function g(e,t){var i=!1,o=function(e,t){i||("loaded"===e.readyState||"completed"===e.readyState?t():setTimeout((function(){o(e,t)}),100))},r=n.createElement("script"),s=r.onload=r.onerror=r[h]=function(){i||(i=!0,r.readyState&&!/^c|loade/.test(r.readyState)||(r.onload=r[h]=null,1,l[e]=2,t()))};o(r,s),r.async=1,r.src=e,a.insertBefore(r,a.firstChild)}n&&!n.readyState&&n.addEventListenerName&&(n.addEventListenerName("DOMContentLoaded",(function e(){n.removeEventListener("DOMContentLoaded",e,d),n.readyState="complete"}),d),n.readyState="loading"),f.get=g,f.order=function(e,t,n){!function a(){var i=e.shift();e.length?f(i,a):f(i,t,n)}()},f.path=function(e){c=e},f.ready=function(e,t,n){e=e[u]?e:[e];var a,i=[];return!m(e,(function(e){o[e]||i.push(e)}))&&p(e,(function(e){return o[e]}))?t():(a=e.join("|"),s[a]||(s[a]=[]),s[a][u](t),n&&n(i)),f},f.done=function(e){f([null],e)},e.exports=f},LqyK:function(e,t,n){n.r(t);var a=n("+NLT"),i=n("UTsl"),o=n("JZM8"),r=n.n(o),s=n("eOdZ"),c=n("zwad"),l=n("mBfy");const d={open(e){const t=r()(e,d._validParams),n=d._getDialogType(e),a=d.generateFbRef(),o=e.object_type&&e.object_id&&"feed"===n;let u=c.a.absolutify(e.path);const h=c.a.getQueryStringParams();if(h.ptrf&&(u=c.a.appendQueryString(u,{ptrf:h.ptrf})),o&&(u=c.a.appendQueryString(u,{fb_ref:a})),t.method=n,"feed"===t.method){const n=d.getWindowOptions(e.width||580,e.height||400);let a="http://www.facebook.com/sharer/sharer.php?u="+u;t.picture&&(a+="&picture="+t.picture),t.name&&(a+="&title="+t.name),t.description&&(a+="&description="+t.description),t.caption&&(a+="&caption="+t.caption),window.open(encodeURI(a),"sharer",n)}else"send"===t.method?t.link=u:"share"===t.method&&(t.href=u),i.default.ensureInit(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let a,i=10;const o=setInterval(()=>{!(a=function(){const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1)t[n].parentNode.removeChild(t[n]);return e[0]}())&&i||(clearInterval(o),a&&d.executeMessengerCallback(a,e.callback)),i-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{if(o&&t&&!t.error_message){const t=s.a.create("LogFacebookFeedShare",{});t.options={object_type:e.object_type,object_id:e.object_id,fb_ref:a},t.callCreate({showError:!1})}e.callback&&e.callback(t)})})},l.default)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const a=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(a),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return(l.default.id||a.a.instance.unauth_id)+":"+e},_getDialogType:e=>d._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,a=t||400,i=screen.width,o=screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+a+",left="+Math.round((i-n)/2)+",top="+(o>a?Math.round((o-a)/2):0)}};t.default=d},MhBu:function(e,t,n){function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return a}))},NdQN:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("i8i4"),r=n.n(o),s=n("JW66"),c=n("Ye/N"),l=(n("9QW3"),n("n6mq"));t.a=class extends a.Component{constructor(...e){var t,n,a;super(...e),a=e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case s.a.KeyCode.ENTER:case s.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case s.a.KeyCode.UP:e.preventDefault(),n.prev();break;case s.a.KeyCode.DOWN:e.preventDefault(),n.next()}},(n="handleKeyDown")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){const e=this._input;if(e){const t=r.a.findDOMNode(e);if(t instanceof HTMLElement){const e=t.querySelector("input");e&&e.focus()}}}render(){const{onChange:e,value:t}=this.props;return i.a.createElement("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"}},i.a.createElement(l.D,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:c.a._("Search","search bar placeholder text"),ref:e=>{this._input=e},value:t}))}}},NjDU:function(e,t,n){function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function i(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function r(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r}))},Nlx5:function(e,t,n){n.d(t,"a",(function(){return p}));var a=n("q1tI");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=32,r=100;let s=null,c=!1;const l=[],d=()=>{s&&clearTimeout(s),c=!0,s=setTimeout(()=>{c=!1},r)},u=e=>{0===l.length&&window.addEventListener("scroll",d),l.push(e)},h=e=>{const t=l.indexOf(e);l.splice(t,1),0===l.length&&window.removeEventListener("scroll",d)};function p(e){return class extends a.Component{constructor(...e){super(...e),i(this,"state",{isHovering:!1}),i(this,"handlers",{onMouseOver:()=>this._setHover(!0),onMouseLeave:()=>this._setHover(!1)})}componentDidMount(){u(this)}componentWillUnmount(){this.hoverTimer&&clearTimeout(this.hoverTimer),h(this)}_setHover(e){this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=e&&c?setTimeout(()=>this._setHover(e),r):setTimeout(()=>{e!==this.state.isHovering&&this.setState({isHovering:e})},o)}render(){return a.createElement(e,{...this.props,hoverHandlers:this.handlers,isHovering:this.state.isHovering})}}}},P6kd:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("Ye/N"),r=n("oRao"),s=n("eOdZ"),c=n("vxan"),l=n("vvax"),d=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=5,p=27,m=38,f=40,g=13;t.a=Object(c.a)(class extends i.a.Component{constructor(...e){super(...e),u(this,"state",{isOpen:this.props.editing,recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",()=>{this.setState({isOpen:!1})}),u(this,"mounted",!1),u(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),u(this,"handleKeyDown",e=>{e.keyCode===m?this.handlePrevHashtag(e):e.keyCode===f?this.handleNextHashtag(e):e.keyCode===p?this.handleClose(e):e.keyCode===g&&this.handleSubmit(e)}),u(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),u(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),u(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),u(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),u(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(s.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,h),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}UNSAFE_componentWillReceiveProps(e){e.query!==this.props.query&&""!==e.query&&this.callResource(e.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:a,idealDirection:s}=this.props,c=e.filter(e=>e.query),u=s||"down",h="flyout_"+c.length;return t&&c.length>0?i.a.createElement("div",{className:"HashtagFlyout"},i.a.createElement(d.k,{key:h,anchor:a,idealDirection:u,onDismiss:this.onDismiss,size:"sm"},i.a.createElement("div",{className:"HashtagRecommendations"},c.length>0?c.map((e,t)=>i.a.createElement("div",{className:"HashtagItem",key:e.query},i.a.createElement(d.P,{onTouch:t=>this.addHashtag(e.query),fullWidth:!1},i.a.createElement(d.c,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",deprecatedPadding:1},i.a.createElement(d.c,{flex:"grow"},i.a.createElement(d.K,{inline:!0,size:"sm",weight:"bold"},e.query)),i.a.createElement(d.c,{flex:"none"},i.a.createElement(d.K,{inline:!0,size:"xs"},Object(l.b)(o.a.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout"),{count:i.a.createElement(r.a,{value:Number(e.pin_count),key:"pinCount"})}))))))):null))):null}})},PNKV:function(e,t,n){},Pqnw:function(e,t,n){function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return a}))},UTsl:function(e,t,n){n.r(t);var a=n("xBNU"),i=n.n(a),o=n("eOdZ"),r=n("6tKR"),s=n("mBfy");n("/5zs");let c=!1;const l={ensureInit(e,t=s.default,n="en_US",a){r.default.load([],`//connect.facebook.net/${n}/sdk.js`,"fb"),r.default.ready("fb",()=>{this._fbCallback(e,t,a)}),window.fb_init=1},_fbCallback(e,t,n){const a=window.FB;a&&(c||(n&&(n.check("enabled_fb_and_prevent_google_one_tap_error_refresh")||n.check("enabled_scroll_and_prevent_google_one_tap_error_refresh")||n.check("enabled_load_secondary_content_after_user_scroll")||n.check("enabled_load_secondary_content_after_fb_success"))?a.init({appId:i.a.FB_KEY,status:!0,xfbml:!0,version:"v2.7"}):a.init({appId:i.a.FB_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",e=>{l.refreshAccessToken(t)}),c=!0,window.fb_init=2),e(a))},ensureLoggedIn(e,t){l.ensureInit(t=>{l.logIn(t,e)},t)},logIn(e,t){e&&(e.getUserID()?t(e):e.login(()=>{t(e)}))},refreshAccessToken(e){e.isAuthenticated()&&e.attributes.facebook_id&&!e.isLimitedLogin()&&l.ensureInit(e=>{if(e.getUserID()){const t=e.getAccessToken();if(t){o.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}},e)},injectTrackingPixel(e){!function(){const e=window._fbq||(window._fbq=[]);if(!e.loaded){const t=document.createElement("script");t.async=!0,t.src="//connect.facebook.net/en_US/fbds.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),e.loaded=!0}}(),window._fbq=window._fbq||[],window._fbq.push(["track",e,{value:"0.00",currency:"USD"}])}};t.default=l},Wrea:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("Wer7");const i=(e,t)=>n=>n(Object(a.a)("BoardResource",{board_id:e,field_set_key:t})),o=e=>i(e,"pin_count"),r=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),c=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},ZE2w:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("4dcN"),i=n("eOdZ");const o="collaborator_approve_invite";function r(e,t){return i.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return i.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>{return i.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{a.a.trackEvent(o,"success")}).catch(()=>a.a.trackEvent(o,"error"))}}function l(e,t,n){return t=>{const{invited_user:a,status:o,board:{id:r}}=e;return i.a.create("accepted"===o?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:r,field_set_key:"boardEdit",invited_user_id:a.id}).callDelete({showError:!1})}}},aSYl:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("n6mq");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],c=120,l=800,d=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),u=e=>e*(Math.PI/180);class h extends a.PureComponent{constructor(...e){super(...e),r(this,"animationTimer",null),r(this,"canvasRemovalTimer",null),r(this,"containerRef",i.a.createRef()),r(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,a=document.createElement("canvas");return a.style.position="absolute",a.style.left=`${0-(n-t)/2}px`,a.style.top=`${0-(n-e)/2}px`,a.style.pointerEvents="none",a.style.width=`${n}px`,a.style.height=`${n}px`,a.style.overflow="visible",a.width=n,a.height=n,a}),r(this,"explode",()=>{const e=this.buildCanvas();if(!e)return;const t=this.containerRef.current,n=e.getContext("2d");t.prepend(e);const a=Array.from(Array(c)).map((t,n)=>({x:e.width/2,y:e.height/2,radius:Math.round(d(10,30)),color:s[Math.floor(Math.random()*s.length)],degree:Number(d(0,360).toFixed(1)),speed:Math.round(d(0,25)),friction:.9,opacity:Number(d(0,.5).toFixed(1)),yVel:0,gravity:.04})),i=(e,t,n,a)=>{window.requestAnimationFrame(()=>i(e,t,n,a)),t.clearRect(0,0,n,a),e.forEach((e,n)=>{e.x+=e.speed*Math.cos(u(e.degree)),e.y+=e.speed*Math.sin(u(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};i(a,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},this.props.delay+l)})}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:a}=e;n&&a!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return i.a.createElement(o.c,{ref:this.containerRef,position:"relative"},this.props.children)}}r(h,"defaultProps",{delay:0}),t.a=h},c4Fo:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("lSCD"),r=n.n(o),s=n("zXAL");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=()=>null;t.a=Object(s.a)(class extends a.Component{constructor(...e){super(...e),c(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:a}=this.props;a.viewExperience(t,n)}),c(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:a,preventRemoval:i}=this.props;i?a.completeExperience(t,n,i):a.completeExperience(t,n)}),c(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:a,preventRemoval:i}=this.props;i?a.dismissExperience(t,n,i):a.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e,t){if(this.props.disableAutoView)return;const n=this.getExperience(e),a=this.getExperience(this.props);a&&this.shouldRenderExperience(a)&&(n&&n.experience_id===a.experience_id||this.view(a))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){if(r()(e)){const a={...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n)};return t&&(a.view=()=>this.view(n)),e(a)}return i.a.Children.only(e)}return i.a.createElement(l,null)}})},dMCU:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("+PUW");const s=e=>({isLimitedLogin:e.viewer.isLimitedLogin,isAuth:e.viewer.isAuth});function c(e){const t=t=>{const{dispatch:n,isAuth:a,isLimitedLogin:o}=t,s=!a||o?e=>e=>{e&&e.stopPropagation(),n(r.a)}:e=>e;return i.a.createElement(e,{authAction:s,...t})};return t.displayName=`WithAuthenticatedAction(${String(e.displayName||e.name)})`,Object(o.connect)(s)(t)}},fZ0m:function(e,t,n){const a={get(e){(()=>n.e("ScriptCommon").then(n.bind(null,"6tKR")))().then(({default:t})=>{t.load([],"https://apis.google.com/js/client:platform.js","gplus"),t.ready("gplus",()=>{e(window.gapi)})})}};t.a=a},gONw:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("n6mq");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends a.Component{constructor(...e){super(...e),r(this,"state",{isHovering:!1}),r(this,"onHover",()=>{this.setState({isHovering:!0})}),r(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:a}=this.props;return a?i.a.createElement(o.c,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover},i.a.createElement(o.c,null,i.a.createElement(o.u,{height:40,width:40,shape:"rounded"},this.state.isHovering&&n?i.a.createElement(o.p,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):i.a.createElement(o.c,{color:"lightGray",height:40,width:40}))),i.a.createElement(o.c,{padding:2},i.a.createElement(o.K,{size:"xl",weight:"bold"},e))):i.a.createElement(o.c,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2},i.a.createElement(o.c,null,i.a.createElement(o.n,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})),i.a.createElement(o.c,{marginLeft:3},i.a.createElement(o.K,{color:t?"darkGray":"gray",size:"lg",weight:"bold"},e)))}}var c=n("Ye/N"),l=n("NtFK"),d=n("U4JR"),u=n("zLLH");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=-1;t.a=Object(u.b)({name:"BoardTitleSuggestionsResource",options:({pinId:e})=>({pin_id:e}),key:"boards"})(class extends a.Component{constructor(e){super(e),h(this,"_processSuggestions",e=>e&&e.length?e.map(e=>e.title):[]),h(this,"handleClick",e=>{const{suggestedBoardsNames:t}=this.state,{onBoardSelected:n}=this.props;n(t[e],!1),Object(d.a)(101,{component:13025,element:23})}),h(this,"handleMouseEnter",e=>{this.setState({selectedIndex:e})}),h(this,"handleMouseLeave",()=>{this.setState({selectedIndex:p})}),h(this,"renderSuggestionRow",(e,t)=>{const n=this.state.selectedIndex===t;return i.a.createElement("li",{key:t},i.a.createElement(o.P,{onTouch:()=>this.handleClick(t),onMouseEnter:()=>this.handleMouseEnter(t),onMouseLeave:this.handleMouseLeave},i.a.createElement(s,{selected:n,name:e,inFlyoutExp:this.props.inFlyoutExp,image:this.props.image})))}),this.state={selectedIndex:p,suggestedBoardsNames:this._processSuggestions(e.boards.data)}}UNSAFE_componentWillReceiveProps(e){this.setState({suggestedBoardsNames:this._processSuggestions(e.boards.data)})}componentDidUpdate(e){const{inFirstBoardCreateGestaltExp:t,boards:n}=this.props;!e.boards.isLoaded&&n.isLoaded&&t&&this.setPWTLoadingEnd()}setPWTLoadingEnd(){Object(l.h)(16,{error:!!this.props.error})}renderGestaltBoardSuggestionList(){const{suggestedBoardsNames:e}=this.state;c.a._("Suggested board names","text above suggested board names list");return i.a.createElement(o.c,null,i.a.createElement(o.c,{marginTop:5,marginLeft:6,marginBottom:3},i.a.createElement(o.K,{size:"md"},c.a._("Suggested board names"))),i.a.createElement("ul",null,e.map(this.renderSuggestionRow)))}renderPreviewBoardSuggestionList(){const{suggestedBoardsNames:e}=this.state;return i.a.createElement("div",null,i.a.createElement("ul",null,e.map(this.renderSuggestionRow)))}render(){const{inFirstBoardCreateGestaltExp:e,inFlyoutExp:t,minHeight:n,boards:a}=this.props,{suggestedBoardsNames:r}=this.state;return a.isLoaded?r&&r.length?t?this.renderPreviewBoardSuggestionList():e?this.renderGestaltBoardSuggestionList():i.a.createElement(o.c,null,i.a.createElement(o.c,{marginTop:2,paddingX:5},i.a.createElement(o.K,null,c.a._("Suggested board names"))),i.a.createElement("ul",null,r.map(this.renderSuggestionRow))):null:i.a.createElement(o.c,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:n||""},i.a.createElement(o.G,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions"),show:!0}))}})},gx0O:function(e,t,n){const a=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},i=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};i.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new a(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},i.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},i.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},i.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},i.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},t.a=i},jdx6:function(e,t,n){n.d(t,"b",(function(){return c}));var a=n("q1tI"),i=n("8cMa"),o=n("JW66"),r=n("Ye/N"),s=n("n6mq");function c(e,t){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,i,o)=>{if(n.length>0&&e&&e.length){const r=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(a.createElement("em",{key:o,style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"}},t.substring(r,r+e.length)),i)}return[i]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:l,isSelectMode:d,isWithinSectionPicker:u,saveState:h,searchQuery:p,selected:m,size:f="md"}=e,g=l?null:n,b=l?n:null,_=b&&b.title||g&&g.name||"";let y="",v=!1,E="",w=0;g&&({image_cover_url:y,is_collaborative:v,privacy:E,section_count:w=0}=g);const S=c(p,_),C=E===o.a.BoardPrivacy.SECRET,x=!t&&(m||!!h),I=!u&&w>0,k=w>0?"boardWithSection":"boardWithoutSection",R=d?r.a._("Select","Board select button label"):r.a._("Save","Pin save button label");return a.createElement(s.c,{alignItems:"center",color:x?"lightGray":"white",display:"flex",paddingX:"lg"===f?4:6,paddingY:2,"data-test-id":k},a.createElement(s.c,{height:"lg"===f?40:36,width:"lg"===f?40:36,color:"lightGray",overflow:"hidden",shape:"rounded",marginRight:2,flex:"none"},y?a.createElement(s.p,{src:y,alt:_,fit:"cover",naturalWidth:1,naturalHeight:1}):a.createElement("span",null)),a.createElement(s.c,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow"},a.createElement(s.K,{color:t?"gray":"darkGray",size:"lg"===f?"xl":"md",truncate:!0,weight:"bold"},S),(I||!x)&&a.createElement(s.c,{alignItems:"center",display:"flex"},C&&a.createElement(i.a,{type:"secret"}),v&&a.createElement(i.a,{type:"group"}),I&&a.createElement(i.a,{type:"sections"})),!I&&x&&!h&&a.createElement(s.c,{alignItems:"center","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,dangerouslySetInlineStyle:{__style:{backgroundColor:"#e60023",borderRadius:"4px"}}},!d&&a.createElement(s.c,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},a.createElement(s.n,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})),a.createElement(s.K,{color:"white",overflow:"normal",size:"sm",weight:"bold"},R)),!I&&x&&"loading"===h&&a.createElement(s.c,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35},a.createElement(s.G,{accessibilityLabel:r.a._("Saving","Accessibility label for saving a pin to a board"),show:!0}))))}},"l/PN":function(e,t,n){},mEMi:function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),i=n.n(a),o=n("DzJC"),r=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=200,l=({scrollTop:e,clientHeight:t,scrollHeight:n},a)=>{return e+t+(a?a(t):2*t)>n};class d extends i.a.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",e=>{this.containerRef=e}),s(this,"fetchMoreIfNecessary",r()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&l(this.containerRef,t)&&e()},c))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},mvLR:function(e,t,n){function a(e){let t=!1;return{promise:new Promise((n,a)=>{e.then(e=>t?a({isCanceled:!0}):n(e),e=>a(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return a}))},"n+wb":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("Ye/N"),r=n("uiRf"),s=n("xdpg"),c=n("n6mq");function l(e){const{body:t,img:n,onClick:i,selected:r,title:s,username:l,valid:d}=e,u=l||t;return a.createElement(c.c,{marginBottom:4},a.createElement(c.P,{onTouch:i},a.createElement(c.c,{display:"flex",alignItems:"center",direction:"row",width:"100%"},n,a.createElement(c.c,{marginLeft:3,flex:"grow",marginRight:2},a.createElement(c.c,{marginBottom:1},a.createElement(c.K,{size:"md",truncate:!0,weight:"bold"},s)),a.createElement(c.K,{size:"xs",truncate:!0},u)),a.createElement(c.c,{marginLeft:2},((e,t)=>{if(l)return e?a.createElement(c.n,{icon:"check-circle",color:"red",accessibilityLabel:o.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites"),size:32}):a.createElement(c.c,{height:32,width:32,shape:"circle",dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}}});{const n={text:o.a._("Sent","Sent a board collaborator invite"),color:"gray",size:"sm",disabled:!0,inline:!0};return e||(n.text=o.a._("Invite","Add board collaborator invite"),n.disabled=Boolean(!t)),a.createElement(c.d,n)}})(r,d)))))}var d=n("zLLH"),u=n("ZE2w");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){const{id:a}=e;return t===n.findIndex(e=>e.id===a)}t.a=Object(d.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource"},{allowStale:!1})(class extends a.Component{constructor(...e){super(...e),h(this,"state",{selectedCollaborators:[],showCollabList:!0,typeaheadSuggestions:[],value:""}),h(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),h(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:a}=this.state,i=a.concat([e]),o="email"===n?u.c:u.d;this.props.onSelectedCollaboratorsChange({id:t,resource:o}),this.setState({selectedCollaborators:i})}),h(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})}),h(this,"handleToggleCollabList",()=>{this.setState(e=>({showCollabList:!e.showCollabList}))}),h(this,"isIdSelected",{})}render(){const{value:e,showCollabList:t}=this.state,{shareSuggestionsResource:{data:n},collabInBoardCreateExperimentGroup:d}=this.props,u=n||[],h=(""===e?u:this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(s.g)(e)}).concat(u).filter(p)).map((e,t)=>(function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){const i=a.createElement(c.a,{name:e.title||e.full_name,src:e.image_medium_url,size:"md"});return a.createElement(l,{img:i,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:i,valid:r}=e,d=a.createElement(c.c,{shape:"circle",color:"lightGray",height:40,width:40,display:"flex",justifyContent:"center",alignItems:"center"},a.createElement(c.n,{color:"darkGray",icon:"envelope",size:20,accessibilityLabel:o.a._("Email icon","Email icon on board create modal")})),u=Object(s.c)(o.a._("Email {{ email }}"),{email:i});let h,p;return t?(h=o.a._("Done!","Text that lets the user know we sent the board invite email"),p=()=>void 0):(h=r?o.a._("Click to send!","Text that lets the user know they can successfully send a board invite email"):o.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet"),p=()=>r?n(e):void 0),a.createElement(l,{body:h,img:d,onClick:p,selected:t,title:u,valid:r})}})(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>i.a.createElement("li",{key:t},e)),m=(d||"").startsWith("enabled"),f=m?i.a.createElement(c.c,{shape:"rounded",height:41,marginBottom:4,paddingX:3,paddingY:3},i.a.createElement(c.e,null,i.a.createElement(c.P,{onTouch:this.handleToggleCollabList},i.a.createElement(c.c,{display:"flex",alignItems:"center"},i.a.createElement(c.K,{size:"md"},(d||"").startsWith("enabled_ui_collapse_v2")?o.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create"):o.a._("Invite group members (optional)","Optional field to invite group members to a board on board create")),i.a.createElement(c.c,{margin:1},i.a.createElement(c.n,{size:12,accessibilityLabel:o.a._("Toggle collaborators list","Accessibility label for board collaborators list toggle icon"),icon:t?"arrow-up":"arrow-down",color:"darkGray"})))))):i.a.createElement(c.c,{paddingX:5,marginBottom:4,marginTop:3,paddingY:3},i.a.createElement(c.K,{size:"md"},o.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create")));return i.a.createElement(c.c,{display:"flex",direction:"column",height:"100%"},f,(m&&t||!m)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(c.c,{paddingX:3,marginTop:1,marginBottom:4,width:"100%"},i.a.createElement(c.c,{flex:"grow"},i.a.createElement(r.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e},i.a.createElement(c.D,{id:"CollaboratorInviteSearchField",accessibilityLabel:o.a._("Search for collaborators by name or email"),onChange:this.handleTextFieldChange,placeholder:o.a._("Search by name or email"),value:e})))),i.a.createElement(c.c,{paddingX:4,overflow:"scrollY"},i.a.createElement("ul",null,h))))}})},oN2T:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"l",(function(){return _})),n.d(t,"g",(function(){return v})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return w})),n.d(t,"k",(function(){return S})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return x})),n.d(t,"e",(function(){return I}));var a=n("4dcN"),i=n("Pqnw"),o=n("7w6Q"),r=n("eOdZ"),s=n("KFEb"),c=n("5FNA"),l=n("NjDU"),d=n("Wer7");const u="board_create",h="board_delete",p="board_edit";function m(e,t){return Object(d.a)("BoardResource",{board_id:e,field_set_key:t})}function f(){return(e,t)=>{const{viewer:n}=t();n.isAuth&&Object(c.b)(n.username).forEach(t=>{e(t)})}}function g(e){const t={...e};return n=>(n({type:"BOARD_CREATE",payload:{board:e}}),r.a.create("BoardResource",t).callCreate().then(e=>{a.a.trackEvent(u,"success");const i=e.resource_response.data;return i&&(n(f()),n(function(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}(t,i))),i}).catch(e=>{throw a.a.trackEvent(u,"error"),e}))}function b(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function _(e){return t=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},i={board_id:e.id,name:e.name,description:e.description,category:e.category,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...n};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:i}}),r.a.create("BoardResource",i).callUpdate().then(n=>{a.a.trackEvent(p,"success");const o=n&&n.resource_response&&n.resource_response.data||e;t(b(i,o))}).catch(e=>{throw a.a.trackEvent(p,"error"),e})}}function y(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function v(e){return(t,n)=>{const i=n().boards.content[e],{pin_count:o}=i,{id:s}=i.owner;return t({type:"BOARD_DELETE",payload:{boardId:e}}),r.a.create("BoardResource",{board_id:e}).callDelete().then(()=>{a.a.trackEvent(h,"error"),t(y(e)),t(Object(l.b)({userId:s,increment:-o}))}).catch(e=>{throw a.a.trackEvent(h,"error"),e})}}function E(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function w(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),r.a.create("BoardArchiveResource",{boardId:e}).callUpdate())}function S(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),r.a.create("BoardArchiveResource",{boardId:e}).callDelete())}function C(e,t){return n=>r.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([n(y(e)),n(m(t,"pin_count")),n(Object(i.a)(s.a.BOARD_SECTIONS,t))]))}function x(e,t){return n=>r.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then(e=>{if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}const a=e.resource_response.data||{},i=(a.model||{}).custom_properties||{},{campaign_id:r="unknown"}=i,s=a.display_data||{},c={isSocialSeasonalBoard:!!a.display_data,socialHeaderBgImage:s.header_image,socialHeaderBgColor:s.header_background_color,textIconColor:s.text_icon_color};return o.a.increment(`web.seasonal_board.${r}.${t}.land`),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:c})})}function I(){return e=>{return e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}}},pdBG:function(e,t,n){var a=n("AHhP"),i=n.n(a),o=n("gx0O"),r=n("eOdZ"),s=n("mBfy");const c=function(e){e=e||{},this.tags=e.tags,this.enable_recent_queries=!!e.enable_recent_queries,this.minimum_term_character_length=e.minimum_term_character_length||0,this.bypass_lru_cache=e.bypass_lru_cache;const t={tags:e.tags,pin:e.pin_id},n=e.num_places;n?t.num_places=n:t.count="count"in e?e.count:5,e.exclude_non_followers&&(t.exclude_non_followers=!0),e.field_set_key&&(t.field_set_key=e.field_set_key),e.pin_scope&&(t.pin_scope=e.pin_scope),e.suggestion_type&&(t.suggestion_type=e.suggestion_type);let a="TypeaheadResource";e.resource_name&&(a=e.resource_name),this.searchResource=r.a.create(a,t),this.itemsCache=new o.a};Object.assign(c.prototype,i.a),Object.assign(c.prototype,{search(e,t){let n;if(!e&&"pinners_and_contacts"===this.tags)return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&s.default.isLimitedLogin())return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&this.enable_recent_queries&&s.default&&s.default.isAuthenticated())n="recent_search";else{const n=this.bypass_lru_cache?{}:this.itemsCache.get(e);if(n){const a=n.items;if(a&&a.length){this.abortSearch();const i=n.hint;return void this.publishData(e,a,i,t)}}}e.length>=this.minimum_term_character_length?this.fetch(e,n,t):this.publishData(e,[],{},t)},getResource(){return this.searchResource},abortSearch(){this.getResource().abort()},publishData(e,t,n,a){const i={term:e,items:t,hint:n};this.trigger("data",i),a&&a(i)},setAutocompleteScope(e){this.getResource().set("autocompleteScope",e)},fetch(e,t,n){const a=this.getResource();if(a.isCalling()){const t=a.get("term");if(e===t)return;this.abortSearch()}""!==this.tags&&(a.set("term",e),a.set("tags",t||this.tags),a.resetBookmark(),a.callGet({showError:!1}).then(t=>{const a=t.resource_response.data,i=a.items,o=a.hint||{},r={hint:o,items:i};this.cacheData(e,r),this.publishData(e,i,o,n)},e=>{this.trigger("fetchError",e)}),this.warm=!0)},removeCacheForTerm(e){this.itemsCache.remove(e)},cacheData(e,t){this.itemsCache.set(e,t)},prefetch(){if(this.warm)return;r.a.create("TypeaheadPrepareResource").callGet({showError:!1}),this.warm=!0}}),t.a=c},qyR9:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("jdx6"),r=n("gONw"),s=n("Ye/N"),c=n("Nlx5"),l=n("n6mq");var d=Object(c.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:i,hasHoverState:o,hoverHandlers:r,name:c,onClick:d}=e,u=c||t||s.a._("Create board");return a.createElement(l.P,{onMouseEnter:r.onMouseOver,onMouseLeave:r.onMouseLeave,onTouch:d},a.createElement(l.c,{alignItems:"center",color:o&&n?"lightGray":"white",display:"flex",flex:i?"shrink":"none",height:64,width:"100%"},a.createElement(l.c,{marginLeft:6,marginRight:3,"data-test-id":"createBoardButton"},a.createElement(l.n,{accessibilityLabel:s.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})),c?a.createElement(l.c,{margin:1},a.createElement(l.K,{inline:!0,overflow:"normal",__dangerouslyIncreaseLineHeight:!0}," ",s.a._("Create: ")," ")):null,a.createElement(l.K,{__dangerouslyIncreaseLineHeight:!0,align:"center",inline:!0,truncate:!0,weight:"bold"}," ",u," ")))})),u=n("9QW3"),h=n("NdQN"),p=n("NtFK"),m=n("IBrh");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return b}));const g="",b=2;t.b=class extends a.Component{constructor(...e){super(...e),f(this,"state",{searchQuery:g}),f(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),f(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),f(this,"renderSectionHeader",(e,t)=>e.title?i.a.createElement(l.c,null,t>0&&i.a.createElement(l.j,null),i.a.createElement(l.c,{deprecatedPadding:{x:3,y:1}},i.a.createElement(l.K,{size:"sm"},e.title))):null),f(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:a,isSelectMode:r,disabledRowId:s}=this.props,{searchQuery:c}=this.state,{inSectionSelection:l=!1}=n,d=a&&a.board===e.id?a&&a.state:null,u="board_section"===e.type;return i.a.createElement(o.a,{isSelectMode:r,disabled:e.id===s&&l,item:e,isSection:u,isWithinSectionPicker:l,saveState:d,searchQuery:c,selected:t,size:"md"})})}componentDidUpdate(e){!e.isLoaded&&this.props.isLoaded&&this.setPWTLoadingEnd()}setPWTLoadingEnd(){Object(p.h)(16,{error:this.props.hasLoadError})}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:a,isLoaded:o,onCreate:c,pinId:p}=this.props;if(o){const{searchQuery:o}=this.state,s=a(o);return this.indexManager=new u.a(s.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),i.a.createElement(l.c,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}}},!n&&i.a.createElement(l.c,null,i.a.createElement(l.c,{paddingX:6,marginBottom:4,marginTop:1},i.a.createElement(h.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:o})),i.a.createElement(l.j,null)),i.a.createElement(m.a,{disabled:!!e,grow:!n&&!o,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:s}),i.a.createElement(l.j,null),c&&i.a.createElement(d,{buttonLabel:t,hasHoverState:!0,name:o,onClick:()=>c(o)}),n&&p&&i.a.createElement(r.a,{onBoardSelected:c,pinId:p}))}return i.a.createElement(l.c,{deprecatedPadding:{y:5}},i.a.createElement(l.G,{accessibilityLabel:s.a._("loading section picker","accessibility label for the loading spinner the repin picker"),show:!0}))}}},rO08:function(e,t,n){n.r(t),n.d(t,"PinSaveButton",(function(){return S}));var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=(n("l/PN"),n("Ye/N")),s=n("TiQD"),c=n("rYoy"),l=n("y9Ij"),d=n("dMCU"),u=n("n02X"),h=n("2qKt"),p=n("n6mq"),m=n("fArA"),f=n("0nTG"),g=n("lm6u"),b=n("NtFK"),_=n("dtw8"),y=n("B6Tf");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=Object(a.lazy)(()=>n.e("FirstPinCreateCommon").then(n.bind(null,"kj35"))),w=[500639,11022];class S extends a.Component{constructor(e){super(e),v(this,"componentWillUnmount",()=>{this._repinCompletionPromise&&this._repinCompletionPromise.cancel()}),v(this,"setCompletionPromise",e=>{this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(()=>{this.handleRepinHideAndToggle()})}),v(this,"_repinCompletionPromise",null),v(this,"isInShareCallback",!1),v(this,"handleRepinHide",()=>{this.setState({isRepinModalOpen:!1})}),v(this,"handleRepinHideAndToggle",()=>{this.setState({isRepinModalOpen:!1});const{onToggleModal:e}=this.props;e&&e(!1)}),v(this,"handleSaveButtonClick",this.props.authAction(e=>{e&&(e.preventDefault(),e.stopPropagation());const{onClickCallback:t,onToggleModal:n,oneTapSave:a}=this.props;t&&t(),a?a.saved||"function"!=typeof a.save||a.save():(Object(b.g)(16),n&&n(!0),this.setState({isRepinModalOpen:this.props.isAuth}))})),v(this,"handleShareCallback",()=>{const{onShareCallback:e}=this.props;this.isInShareCallback=!0,e&&e()}),v(this,"saveButtonRef",i.a.createRef()),v(this,"renderPinToBoardRepin",()=>{const{onToggleModal:e,pin:t}=this.props,{isFPE:n,isRepinModalOpen:a}=this.state;return a&&n?this.renderFPE():n?null:i.a.createElement(g.a,{action:"repin",additionalCreateFields:{is_stl_pin:Object(f.d)(t)},onClose:this.handleRepinHide,setCompletionPromise:this.setCompletionPromise,shouldShowToast:!0,onToggleModal:e,pin:t},({dismissModal:n,displaySuccessAnimation:o,handleAbort:r,handleNewBoardAnimationCompletion:s,handleSocialConnectSet:c,handleSaveToBoard:l,newPin:d,updateDescription:u,showSharingUpsell:h,modalTitle:p,setModalTitle:m})=>i.a.createElement(y.b,{dismissModal:n,displaySuccessAnimation:o,handleSocialConnectSet:c,handleSaveToBoard:l,anchorRef:this.saveButtonRef.current,handleAbort:r,handleNewBoardAnimationCompletion:s,newPin:d,newsId:this.props.newsId,isCloseupPin:this.props.isCloseupPin,isInModal:!0,onCloseAndShare:this.handleShareCallback,onToggleModal:e,pin:t,pwtAuxData:{pin_create_method:"repin"},modalTitle:p,setModalTitle:m,shouldRenderContent:a,updateDescription:u,showSharingUpsell:h}))});const{experience:t}=e;this.state={isFPE:!!t&&w.includes(t.experience_id),isRepinModalOpen:e.showRepinOnInitialRender||!1,savedPin:{id:""}}}componentDidMount(){const{onMount:e}=this.props;e&&e()}shouldComponentUpdate(e,t){return!this.isFPERemoved(e)}isFPERemoved(e){const{isFPE:t}=this.state,{experience:n}=e;return t&&(!n||!w.includes(n.experience_id))}renderFPE(){const{completePinSave:e,experience:t,pin:n}=this.props;return i.a.createElement(s.b,{accessibilityCloseLabel:r.a._("Close","Accessible close create board education label"),accessibilityModalLabel:r.a._("Create board","Accessible create board education modal label"),footer:i.a.createElement("div",{className:"FirstBoardCreate__education"},r.a._("Boards are where you save your Pins","Text explaining that boards are used to collect and save pins")),heading:r.a._("Create board","Create board education modal label"),onDismiss:this.handleRepinHideAndToggle,size:"lg"},i.a.createElement(c.a,null,i.a.createElement(E,{anchorRef:this.saveButtonRef.current,experience:t,isInModal:!0,onClose:this.handleRepinHideAndToggle,onComplete:e,pin:n,pwtAuxData:{pin_create_method:"repin"}})))}render(){const{anchorString:e,icon:t,iconOnly:n,oneTapSave:a,renderPinSaveTooltip:o,variant:r}=this.props,s=Object(u.a)(e)(l.a);return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.c,{ref:this.saveButtonRef},i.a.createElement(s,{icon:t,onClick:this.handleSaveButtonClick,saved:a&&"controlled"===a.type&&a.saved,iconOnly:n,isPulsarDisplayed:!this.state.isRepinModalOpen,variant:r}),this.renderPinToBoardRepin()),!!o&&this.saveButtonRef.current&&o(this.saveButtonRef.current))}}v(S,"defaultProps",{anchorString:""});t.default=Object(m.compose)(d.a,_.withRouter,Object(h.a)(33),Object(o.connect)(e=>({isAuth:e.viewer.isAuth,email:e.viewer.isAuth?e.viewer.email:void 0}),e=>({completePinSave:()=>e({type:"COMPLETE_PIN_SAVE"})})))(S)},uVIr:function(e,t,n){function a(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,"a",(function(){return a}))},uiRf:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n("17x9"),o=n.n(i),r=n("pdBG");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{constructor(...e){super(...e),s(this,"searchCache",Object.create(null)),s(this,"lastSearchedQuery",null),s(this,"search",e=>{this.lastSearchedQuery=e,e in this.searchCache?this.props.onTypeaheadSuggestionsChange(this.searchCache[e],e):this.provider.search(e,({items:t})=>{this.searchCache[e]=t,e===this.lastSearchedQuery&&this.props.onTypeaheadSuggestionsChange(t,e)})})}componentDidMount(){const e=this.props.resourceOptions||{};this.provider=new r.a({resource_name:this.props.resourceName,...e});const{value:t}=this.props;null!=t&&this.props.allowSearchOnMount&&this.search(this.props.value)}UNSAFE_componentWillReceiveProps({value:e}){null!=e&&e!==this.props.value&&this.search(e)}render(){return this.props.children||null}}s(c,"propTypes",{children:o.a.node,onTypeaheadSuggestionsChange:o.a.func.isRequired,resourceName:o.a.string.isRequired,resourceOptions:o.a.shape({}),allowSearchOnMount:o.a.bool,value:o.a.string.isRequired}),s(c,"defaultProps",{resourceName:"TypeaheadResource"})},vxan:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("mvLR");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){var t,n;return n=t=class extends a.Component{constructor(...e){super(...e),o(this,"makeCancelablePromise",(e,t)=>{if(t){const e=this.cancelCallbackMap[t];e&&(e(),delete this.cancelCallbackMap[t])}const{cancel:n,promise:a}=Object(i.a)(e);return t?this.cancelCallbackMap[t]=n:this.cancelCallbacks.push(n),a}),o(this,"cancelCallbacks",[]),o(this,"cancelCallbackMap",{})}componentWillUnmount(){[...Object.keys(this.cancelCallbackMap).map(e=>this.cancelCallbackMap[e]),...this.cancelCallbacks].forEach(e=>e()),this.cancelCallbacks=[],this.cancelCallbackMap={}}render(){return a.createElement(e,{...this.props,makeCancelablePromise:this.makeCancelablePromise})}},o(t,"displayName",`WithPromiseCancellation(${e.displayName||e.name})`),n}},y9Ij:function(e,t,n){n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=(n("PNKV"),n("TSYQ")),o=n.n(i),r=n("Ye/N"),s=n("n6mq");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=32,d=13;class u extends a.PureComponent{constructor(...e){super(...e),c(this,"handleKeyPress",e=>{e.charCode!==l&&e.charCode!==d||(e.preventDefault(),this.props.onClick(e))})}render(){const{disabled:e,icon:t,iconOnly:n,onClick:i,saved:c,variant:l}=this.props;return c?a.createElement(s.d,{disabled:!0,text:r.a._("Saved"),size:"sm"}):n?a.createElement("div",{"data-test-id":"SaveButton"},a.createElement(s.o,{accessibilityLabel:r.a._("Save","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>i(e),iconColor:"darkGray"})):a.createElement("div",{className:o()("SaveButton",e?"SaveButton--disabled":"SaveButton--enabled"),"data-test-id":"SaveButton",onClick:e?void 0:i,onKeyPress:e?void 0:this.handleKeyPress,role:"button",tabIndex:"0"},a.createElement("div",{className:o()("SaveButton__background",e?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===l})},a.createElement(s.c,{alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:40,padding:"10px 14px"}},display:"flex"},t&&a.createElement(s.c,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},a.createElement(s.n,{accessibilityLabel:"",color:e?"gray":"white",icon:"pin",inline:!0,size:20})),a.createElement(s.K,{color:e?"gray":"white",size:"lego"===l?"sm":"md",weight:"bold"},a.createElement("span",{className:o()("SaveButton__label",{"SaveButton__label--lego":"lego"===l})},r.a._("Save","Pin save button label"))))))}}c(u,"defaultProps",{disabled:!1,icon:!0,variant:"classic"})}}]);
//# sourceMappingURL=pjs-PinSaveButtonCommon-c730bdfd0eafc09b5833.mjs.map
